# ==================== 意图分类与多库检索配置 ====================

# 启用意图分类器（必须开启才能使用智能路由）
ENABLE_INTENT_CLASSIFIER=true

# 启用免签知识库
ENABLE_VISA_FREE_FEATURE=true

# 启用航司知识库
ENABLE_AIRLINE_FEATURE=true

# ==================== 多库检索数量配置 ====================
# 说明：这些参数控制从每个知识库中取多少条文档进行合并
# 最终返回数量 = 各库检索数量之和（自动计算）

# 免签库单独检索数量（默认10条）
# 影响策略：visa_free（免签+通用）、airline_visa_free（三库）
VISA_FREE_RETRIEVAL_COUNT=10

# 通用库单独检索数量（默认5条，作为保底）
# 影响策略：visa_free（免签+通用）、airline（航司+通用）、airline_visa_free（三库）
# 说明：通用库在所有多库检索中都会被检索，确保基础知识覆盖
GENERAL_RETRIEVAL_COUNT=5

# 航司库单独检索数量（默认10条）
# 影响策略：airline（航司+通用）、airline_visa_free（三库）
AIRLINE_RETRIEVAL_COUNT=10

# ==================== 最终返回数量（自动计算，无需设置）====================
# 以下数量由上述参数自动计算得出，不需要在环境变量中设置
#
# 1. visa_free 策略（识别到免签问题）
#    检索：免签库 + 通用库
#    最终返回 = VISA_FREE_RETRIEVAL_COUNT + GENERAL_RETRIEVAL_COUNT
#    默认值：10 + 5 = 15条（包含免签库和通用库的文档总和）
#
# 2. airline 策略（识别到航司问题）
#    检索：航司库 + 通用库
#    最终返回 = AIRLINE_RETRIEVAL_COUNT + GENERAL_RETRIEVAL_COUNT
#    默认值：10 + 5 = 15条（包含航司库和通用库的文档总和）
#
# 3. airline_visa_free 策略（识别到免签+航司组合问题）
#    检索：航司库 + 免签库 + 通用库
#    最终返回 = AIRLINE_RETRIEVAL_COUNT + VISA_FREE_RETRIEVAL_COUNT + GENERAL_RETRIEVAL_COUNT
#    默认值：10 + 10 + 5 = 25条（包含三个库的文档总和）
#
# 4. general 策略（通用问题）
#    检索：仅通用库
#    最终返回 = 前端参数 rerank_top_n（默认15条）
#    说明：只有通用问题受前端参数控制，其他策略使用固定配置

# ==================== 配置示例 ====================

# 示例1：增加免签问题的参考数量
# VISA_FREE_RETRIEVAL_COUNT=15
# GENERAL_RETRIEVAL_COUNT=8
# 结果：visa_free 策略返回 15+8=23条

# 示例2：增加三库检索的参考数量
# VISA_FREE_RETRIEVAL_COUNT=15
# AIRLINE_RETRIEVAL_COUNT=15
# GENERAL_RETRIEVAL_COUNT=8
# 结果：airline_visa_free 策略返回 15+15+8=38条

# 示例3：只调整通用库保底数量（影响所有多库检索）
# GENERAL_RETRIEVAL_COUNT=8
# 结果：
#   - visa_free: 10+8=18条
#   - airline: 10+8=18条
#   - airline_visa_free: 10+10+8=28条

# ==================== 其他配置 ====================

# 意图分类器使用的LLM
INTENT_CLASSIFIER_LLM_ID=qwen3-32b

# 意图分类器超时时间（秒）
INTENT_CLASSIFIER_TIMEOUT=5

# 启用问题改写（需要先启用意图分类器）
ENABLE_QUESTION_REWRITE=false

# 最大显示关键词数量
MAX_DISPLAY_KEYWORDS=10
